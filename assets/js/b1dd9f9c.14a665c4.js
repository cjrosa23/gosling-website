(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{100:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return d}));var a=n(0),r=n.n(a);function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var b=r.a.createContext({}),p=function(e){var t=r.a.useContext(b),n=t;return e&&(n="function"==typeof e?e(t):c(c({},t),e)),n},s=function(e){var t=p(e.components);return r.a.createElement(b.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return r.a.createElement(r.a.Fragment,{},t)}},m=r.a.forwardRef((function(e,t){var n=e.components,a=e.mdxType,i=e.originalType,l=e.parentName,b=o(e,["components","mdxType","originalType","parentName"]),s=p(n),m=a,d=s["".concat(l,".").concat(m)]||s[m]||u[m]||i;return n?r.a.createElement(d,c(c({ref:t},b),{},{components:n})):r.a.createElement(d,c({ref:t},b))}));function d(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var i=n.length,l=new Array(i);l[0]=m;var c={};for(var o in t)hasOwnProperty.call(t,o)&&(c[o]=t[o]);c.originalType=e,c.mdxType="string"==typeof e?e:a,l[1]=c;for(var b=2;b<i;b++)l[b]=n[b];return r.a.createElement.apply(null,l)}return r.a.createElement.apply(null,n)}m.displayName="MDXCreateElement"},94:function(e,t,n){"use strict";n.r(t),n.d(t,"frontMatter",(function(){return l})),n.d(t,"metadata",(function(){return c})),n.d(t,"toc",(function(){return o})),n.d(t,"default",(function(){return p}));var a=n(3),r=n(8),i=(n(0),n(100)),l={title:"Composition"},c={unversionedId:"composition",id:"composition",isDocsHomePage:!1,title:"Composition",description:"A track is a unit building block in Gosling which can be represented as a bar chart, a line chart, or an ideogram. For the concurrent analysis of multiple datasets, multiple tracks can be grouped into views and navigated synchronously. In other words, a view defines the genomic location for all the tracks it contains, and the tracks define the data to be visualized.",source:"@site/gosling-docs/docs/composition.md",slug:"/composition",permalink:"/docs/composition",version:"current",sidebar:"docs",previous:{title:"Visual Channel",permalink:"/docs/visual-channel"},next:{title:"User Interaction",permalink:"/docs/user-interaction"}},o=[{value:"Specify the View Layout",id:"specify-the-view-layout",children:[]},{value:"Align Multiple Tracks in One View",id:"align-multiple-tracks-in-one-view",children:[]},{value:"Arrange Multiple Views",id:"arrange-multiple-views",children:[]},{value:"Inherit Property in Nested Structure",id:"inherit-property-in-nested-structure",children:[]}],b={toc:o};function p(e){var t=e.components,n=Object(r.a)(e,["components"]);return Object(i.b)("wrapper",Object(a.a)({},b,n,{components:t,mdxType:"MDXLayout"}),Object(i.b)("p",null,"A ",Object(i.b)("strong",{parentName:"p"},"track")," is a unit building block in Gosling which can be represented as a bar chart, a line chart, or an ideogram. For the concurrent analysis of multiple datasets, multiple tracks can be grouped into ",Object(i.b)("strong",{parentName:"p"},"views")," and navigated synchronously. In other words, a view defines the genomic location for all the tracks it contains, and the tracks define the data to be visualized."),Object(i.b)("p",null,"In Gosling, you can compose multiple tracks and views in diverse ways using the following properties:"),Object(i.b)("ol",null,Object(i.b)("li",{parentName:"ol"},"You can display genomic positions of a view either in Cartesian coordinates (",Object(i.b)("strong",{parentName:"li"},"linear"),") or in polar coordinates (",Object(i.b)("strong",{parentName:"li"},"circular"),") using the ",Object(i.b)("inlineCode",{parentName:"li"},"layout")," property.  "),Object(i.b)("li",{parentName:"ol"},"You can determine to either ",Object(i.b)("strong",{parentName:"li"},"overlay")," or ",Object(i.b)("strong",{parentName:"li"},"stack")," multiple tracks when composing them into a view using a ",Object(i.b)("inlineCode",{parentName:"li"},"alignment")," property.   "),Object(i.b)("li",{parentName:"ol"},"You use juxtapose multiple views in four different ways (i.e., ",Object(i.b)("strong",{parentName:"li"},"parallel"),", ",Object(i.b)("strong",{parentName:"li"},"serial"),", ",Object(i.b)("strong",{parentName:"li"},"vertical"),", ",Object(i.b)("strong",{parentName:"li"},"horizontal"),") using the ",Object(i.b)("inlineCode",{parentName:"li"},"arrangement")," property.")),Object(i.b)("pre",null,Object(i.b)("code",{parentName:"pre",className:"language-javascript"},'{\n  "arrangement": "parallel"// how to arrange multiple views \n  "views": [\n    {\n      // a single view can contain multiple tracks\n      "layout": "circular", // specify the layout of a view\n      "alignment": "stack", // specify how to align several tracks\n      "tracks": [\n        {/** track 1 **/},\n        {/** track 2 **/},\n        ...\n      ]\n    },\n    {\n      /** another view **/\n    }\n    ...\n  ]\n}\n')),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},Object(i.b)("a",{parentName:"li",href:"#specify-the-view-layout"},"Specify the View Layout")),Object(i.b)("li",{parentName:"ul"},Object(i.b)("a",{parentName:"li",href:"#align-multiple-tracks-in-one-view"},"Align Multiple Tracks in One View")),Object(i.b)("li",{parentName:"ul"},Object(i.b)("a",{parentName:"li",href:"#arrange-multiple-views"},"Arrange Multiple Views")),Object(i.b)("li",{parentName:"ul"},Object(i.b)("a",{parentName:"li",href:"#inherit-property-in-nested-structure"},"Inherit Property in Nested Structure"))),Object(i.b)("h2",{id:"specify-the-view-layout"},"Specify the View Layout"),Object(i.b)("p",null,"In each view, genomic coordinate can be represented in either a ",Object(i.b)("strong",{parentName:"p"},"circular")," or ",Object(i.b)("strong",{parentName:"p"},"linear")," layout. "),Object(i.b)("p",null,"In the following figure the upper track is using a linear layout while the bottom one is a circular layout."),Object(i.b)("img",{src:"https://raw.githubusercontent.com/gosling-lang/gosling-docs/master/images/linear_circular.png",alt:"linear vs circular",width:"600"}),Object(i.b)("p",null,"Users can either specify the layout of all views in the root level"),Object(i.b)("pre",null,Object(i.b)("code",{parentName:"pre",className:"language-javascript"},'{\n    "layout": "linear", //specify the layout of all views\n    "views":[...]\n}\n')),Object(i.b)("p",null,"or  specify/override the layout of a certain view in its own definition"),Object(i.b)("pre",null,Object(i.b)("code",{parentName:"pre",className:"language-javascript"},'{\n    "layout": "linear", //specify the layout of all tracks in this view\n    "tracks":[...]\n}\n')),Object(i.b)("p",null,"To enable an easy switch, both ",Object(i.b)("inlineCode",{parentName:"p"},"linear")," and ",Object(i.b)("inlineCode",{parentName:"p"},"circular")," layout can be specified through ",Object(i.b)("inlineCode",{parentName:"p"},"width")," and ",Object(i.b)("inlineCode",{parentName:"p"},"height"),".",Object(i.b)("br",{parentName:"p"}),"\n",Object(i.b)("strong",{parentName:"p"},Object(i.b)("a",null,"Note"),":")," the meaning of ",Object(i.b)("inlineCode",{parentName:"p"},"height")," is different in ",Object(i.b)("inlineCode",{parentName:"p"},"circular")," and ",Object(i.b)("inlineCode",{parentName:"p"},"linear")," layout.",Object(i.b)("br",{parentName:"p"}),"\n","A ",Object(i.b)("inlineCode",{parentName:"p"},"linear")," layout is controlled by the following properties:"),Object(i.b)("table",null,Object(i.b)("thead",{parentName:"table"},Object(i.b)("tr",{parentName:"thead"},Object(i.b)("th",{parentName:"tr",align:null},"property"),Object(i.b)("th",{parentName:"tr",align:null},"type"),Object(i.b)("th",{parentName:"tr",align:null},"description"))),Object(i.b)("tbody",{parentName:"table"},Object(i.b)("tr",{parentName:"tbody"},Object(i.b)("td",{parentName:"tr",align:null},"width"),Object(i.b)("td",{parentName:"tr",align:null},"number"),Object(i.b)("td",{parentName:"tr",align:null},"width (in pixel) of the view")),Object(i.b)("tr",{parentName:"tbody"},Object(i.b)("td",{parentName:"tr",align:null},"height"),Object(i.b)("td",{parentName:"tr",align:null},"number"),Object(i.b)("td",{parentName:"tr",align:null},"height (in pixel) of the view")))),Object(i.b)("p",null,"A ",Object(i.b)("inlineCode",{parentName:"p"},"circular")," layout is controlled by the following properties:"),Object(i.b)("table",null,Object(i.b)("thead",{parentName:"table"},Object(i.b)("tr",{parentName:"thead"},Object(i.b)("th",{parentName:"tr",align:null},"property"),Object(i.b)("th",{parentName:"tr",align:null},"type"),Object(i.b)("th",{parentName:"tr",align:null},"description"))),Object(i.b)("tbody",{parentName:"table"},Object(i.b)("tr",{parentName:"tbody"},Object(i.b)("td",{parentName:"tr",align:null},"width"),Object(i.b)("td",{parentName:"tr",align:null},"number"),Object(i.b)("td",{parentName:"tr",align:null},"width (in pixel) of the view")),Object(i.b)("tr",{parentName:"tbody"},Object(i.b)("td",{parentName:"tr",align:null},"height"),Object(i.b)("td",{parentName:"tr",align:null},"number"),Object(i.b)("td",{parentName:"tr",align:null},"you need to specify the height of each track to control the ratio of their ticknesses")),Object(i.b)("tr",{parentName:"tbody"},Object(i.b)("td",{parentName:"tr",align:null},"centerRadius"),Object(i.b)("td",{parentName:"tr",align:null},"number"),Object(i.b)("td",{parentName:"tr",align:null},Object(i.b)("inlineCode",{parentName:"td"},"radius of the center white space")," / ",Object(i.b)("inlineCode",{parentName:"td"},"radius of the whole view"),". default = 0.3")))),Object(i.b)("h2",{id:"align-multiple-tracks-in-one-view"},"Align Multiple Tracks in One View"),Object(i.b)("p",null,"The ",Object(i.b)("inlineCode",{parentName:"p"},"alignment")," propoerty allow users to either ",Object(i.b)("inlineCode",{parentName:"p"},'"overlay"')," or ",Object(i.b)("inlineCode",{parentName:"p"},'"stack"')," several tracks."),Object(i.b)("p",null,"When setting ",Object(i.b)("inlineCode",{parentName:"p"},"alignment")," as ",Object(i.b)("inlineCode",{parentName:"p"},'"overlay"'),", multiple ",Object(i.b)("inlineCode",{parentName:"p"},"tracks")," are overlaid on top of others.\nWhen setting ",Object(i.b)("inlineCode",{parentName:"p"},"alignment")," as ",Object(i.b)("inlineCode",{parentName:"p"},'"stack"'),", multiple ",Object(i.b)("inlineCode",{parentName:"p"},"tracks")," are vertically concantenated.\nThe default value of ",Object(i.b)("inlineCode",{parentName:"p"},"alignment")," is ",Object(i.b)("inlineCode",{parentName:"p"},'"stack"'),"."),Object(i.b)("img",{src:"https://raw.githubusercontent.com/gosling-lang/gosling-docs/master/images/alignment.png",alt:"alignment of multiple tracks",width:"700"}),Object(i.b)("p",null,"Multiple ",Object(i.b)("inlineCode",{parentName:"p"},"tracks")," can compose one single ",Object(i.b)("inlineCode",{parentName:"p"},"view"),", which has the following properties:"),Object(i.b)("table",null,Object(i.b)("thead",{parentName:"table"},Object(i.b)("tr",{parentName:"thead"},Object(i.b)("th",{parentName:"tr",align:null},"property"),Object(i.b)("th",{parentName:"tr",align:null},"type"),Object(i.b)("th",{parentName:"tr",align:null},"description"))),Object(i.b)("tbody",{parentName:"table"},Object(i.b)("tr",{parentName:"tbody"},Object(i.b)("td",{parentName:"tr",align:null},"layout"),Object(i.b)("td",{parentName:"tr",align:null},"string"),Object(i.b)("td",{parentName:"tr",align:null},'specify the layout type of all tracks, either "linear" or "circular"')),Object(i.b)("tr",{parentName:"tbody"},Object(i.b)("td",{parentName:"tr",align:null},"alignment"),Object(i.b)("td",{parentName:"tr",align:null},"string"),Object(i.b)("td",{parentName:"tr",align:null},'specify how to align tracks, either "stack" or "overlay". default="stack"')),Object(i.b)("tr",{parentName:"tbody"},Object(i.b)("td",{parentName:"tr",align:null},"spacing"),Object(i.b)("td",{parentName:"tr",align:null},"number"),Object(i.b)("td",{parentName:"tr",align:null},"specify the space between tracks in pixels (if ",Object(i.b)("inlineCode",{parentName:"td"},"layout")," is ",Object(i.b)("inlineCode",{parentName:"td"},"linear"),") or in percentage ranging from ",Object(i.b)("inlineCode",{parentName:"td"},"0")," to ",Object(i.b)("inlineCode",{parentName:"td"},"100")," (if ",Object(i.b)("inlineCode",{parentName:"td"},"layout")," is ",Object(i.b)("inlineCode",{parentName:"td"},"circular"),")")),Object(i.b)("tr",{parentName:"tbody"},Object(i.b)("td",{parentName:"tr",align:null},"static"),Object(i.b)("td",{parentName:"tr",align:null},"boolean"),Object(i.b)("td",{parentName:"tr",align:null},"whether to disable ",Object(i.b)("a",{parentName:"td",href:"https://github.com/gosling-lang/gosling-docs/blob/master/docs/user-interaction.md#zooming-and-panning"},"Zooming and Panning"),", default=false.")),Object(i.b)("tr",{parentName:"tbody"},Object(i.b)("td",{parentName:"tr",align:null},"assembly"),Object(i.b)("td",{parentName:"tr",align:null},"string"),Object(i.b)("td",{parentName:"tr",align:null},'currently support "hg38", "hg19", "hg18", "hg17", "hg16", "mm10", "mm9"')),Object(i.b)("tr",{parentName:"tbody"},Object(i.b)("td",{parentName:"tr",align:null},"linkingId"),Object(i.b)("td",{parentName:"tr",align:null},"string"),Object(i.b)("td",{parentName:"tr",align:null},"specify an ID for ",Object(i.b)("a",{parentName:"td",href:"https://github.com/gosling-lang/gosling-docs/blob/master/docs/user-interaction.md#linking-views"},"linking multiple views"))),Object(i.b)("tr",{parentName:"tbody"},Object(i.b)("td",{parentName:"tr",align:null},"centerRadius"),Object(i.b)("td",{parentName:"tr",align:null},"number"),Object(i.b)("td",{parentName:"tr",align:null},"specify the proportion of the radius of the center white space. A number between ","[0,1]",", default=0.3")),Object(i.b)("tr",{parentName:"tbody"},Object(i.b)("td",{parentName:"tr",align:null},"width"),Object(i.b)("td",{parentName:"tr",align:null},"number"),Object(i.b)("td",{parentName:"tr",align:null},"required when setting ",Object(i.b)("inlineCode",{parentName:"td"},"alignment: overlay"))),Object(i.b)("tr",{parentName:"tbody"},Object(i.b)("td",{parentName:"tr",align:null},"height"),Object(i.b)("td",{parentName:"tr",align:null},"number"),Object(i.b)("td",{parentName:"tr",align:null},"required when setting ",Object(i.b)("inlineCode",{parentName:"td"},"alignment: overlay"))))),Object(i.b)("h2",{id:"arrange-multiple-views"},"Arrange Multiple Views"),Object(i.b)("p",null,"Goslings supports multi-view visualizations. How multiple views are arranged is controlled by the ",Object(i.b)("inlineCode",{parentName:"p"},"arrangement")," property."),Object(i.b)("pre",null,Object(i.b)("code",{parentName:"pre",className:"language-javascript"},'{\n  "arrangement": "parallel",\n  "views": [\n    // one view is composed of tracks that share the same layout property (linear or circular)\n    {\n      "layout": "linear",\n      "tracks": [...]\n    },\n    // One view can have a hierarchical structure. \n    // For example, the view below is composed of two sub-views\n    {\n      "arrangement": "serial",\n      "views": [\n        {\n          "tracks": [...]\n        },\n        {\n          "tracks": [...]\n        }\n      ]\n    }\n  ]\n}\n')),Object(i.b)("p",null,"Gosling supports four types of arrangemet: ",Object(i.b)("inlineCode",{parentName:"p"},'"parallel"'),", ",Object(i.b)("inlineCode",{parentName:"p"},'"serial"'),", ",Object(i.b)("inlineCode",{parentName:"p"},'"vertical"'),", ",Object(i.b)("inlineCode",{parentName:"p"},'"horizontal"'),"."),Object(i.b)("img",{src:"https://raw.githubusercontent.com/gosling-lang/gosling-docs/master/images/multi_views.png",alt:"arrangement of multiple views",width:"700"}),Object(i.b)("h2",{id:"inherit-property-in-nested-structure"},"Inherit Property in Nested Structure"),Object(i.b)("p",null,"Both ",Object(i.b)("inlineCode",{parentName:"p"},"view")," and ",Object(i.b)("inlineCode",{parentName:"p"},"track")," supports nested structures: One ",Object(i.b)("inlineCode",{parentName:"p"},"view")," can have several children ",Object(i.b)("inlineCode",{parentName:"p"},"views"),", and one ",Object(i.b)("inlineCode",{parentName:"p"},"track")," can have several children ",Object(i.b)("inlineCode",{parentName:"p"},"tracks"),". Properties can be inherited from upper-level specifications or overwritten locally."),Object(i.b)("pre",null,Object(i.b)("code",{parentName:"pre",className:"language-javascript"},'// nested structures in views\n{\n  "arrangement": "parallel",\n  "views": [\n    {/** view **/ }, \n    {/** view **/ }, \n    {\n      // a view with children views\n      "arrangement": "parallel",\n      "views": [...]\n    }\n  ]\n}\n')),Object(i.b)("pre",null,Object(i.b)("code",{parentName:"pre",className:"language-javascript"},'// nested structures in tracks\n{\n  "alignment":"overlay",\n  "tracks": [\n    {\n      // the parent track\n      "data": ... , // specify data\n      "x": ...,\n      "y": ...,\n      "color":...,\n      "alignment": "overlay",\n      "tracks": [\n        // the children tracks\n        // point mark and line mark have the same data, x, y, color encoding\n        {\n          "mark": "line", \n        },\n        {\n          "mark": "point", \n          // specify the size of point mark\n          "size": {"field": "peak", "type": "quantitative", "range": [0, 6]} \n        }\n      ]\n    }\n  ]\n}\n')),Object(i.b)("p",null,"Use the nested structure if you want to use overlaid tracks inside stacked tracks."),Object(i.b)("p",null,"Try examples in the online editor:"),Object(i.b)("p",null,Object(i.b)("a",{parentName:"p",href:"https://gosling-lang.github.io/gosling.js/?gist=wangqianwen0418/dd5bd5aa70f2eb68f92f42788f046188"},"Line chart (line + point)")),Object(i.b)("p",null,Object(i.b)("a",{parentName:"p",href:"https://gosling-lang.github.io/gosling.js/?gist=wangqianwen0418/d94c24b086bb4f6e5af48af6ebad1ca2"},"Lollipop plot (bar + point)")),Object(i.b)("p",null,Object(i.b)("a",{parentName:"p",href:"https://gosling-lang.github.io/gosling.js/?gist=wangqianwen0418/90cc96ca5f199c78d8985e4c162c6788"},"Ideogram (text + rect + triangle)")))}p.isMDXComponent=!0}}]);