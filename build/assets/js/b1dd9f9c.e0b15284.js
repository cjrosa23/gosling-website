(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{88:function(e,n,t){"use strict";t.r(n),t.d(n,"frontMatter",(function(){return l})),t.d(n,"metadata",(function(){return o})),t.d(n,"toc",(function(){return c})),t.d(n,"default",(function(){return s}));var a=t(3),r=t(7),i=(t(0),t(95)),l={title:"Composition"},o={unversionedId:"composition",id:"composition",isDocsHomePage:!1,title:"Composition",description:"One track is the minimum visualization unit in Gosling.",source:"@site/gosling-docs/docs/composition.md",slug:"/composition",permalink:"/docs/composition",version:"current",sidebar:"docs",previous:{title:"Layout",permalink:"/docs/layout"},next:{title:"User Interaction",permalink:"/docs/user-interaction"}},c=[{value:"Align Multiple Tracks",id:"align-multiple-tracks",children:[]},{value:"Arrange Multiple Views",id:"arrange-multiple-views",children:[]},{value:"Inherit Property in Nested Structure",id:"inherit-property-in-nested-structure",children:[]}],p={toc:c};function s(e){var n=e.components,t=Object(r.a)(e,["components"]);return Object(i.b)("wrapper",Object(a.a)({},p,t,{components:n,mdxType:"MDXLayout"}),Object(i.b)("p",null,"One ",Object(i.b)("inlineCode",{parentName:"p"},"track")," is the minimum visualization unit in Gosling.\nMultiple ",Object(i.b)("inlineCode",{parentName:"p"},"tracks")," with the same ",Object(i.b)("a",{parentName:"p",href:"https://github.com/gosling-lang/gosling-docs/blob/master/docs/layout.md"},Object(i.b)("inlineCode",{parentName:"a"},"layout"))," compose a ",Object(i.b)("inlineCode",{parentName:"p"},"view")," and a Gosling visualization can have multiple ",Object(i.b)("inlineCode",{parentName:"p"},"views"),"."),Object(i.b)("p",null,"In Gosling, users can create an advanced visual interface by composing different ",Object(i.b)("inlineCode",{parentName:"p"},"tracks")," and ",Object(i.b)("inlineCode",{parentName:"p"},"views"),".\nWe use the ",Object(i.b)("inlineCode",{parentName:"p"},"alignment")," property to specify how we compose several ",Object(i.b)("inlineCode",{parentName:"p"},"tracks"),".\nWe use the ",Object(i.b)("inlineCode",{parentName:"p"},"arrangement")," property to specify how we compose several ",Object(i.b)("inlineCode",{parentName:"p"},"views"),"."),Object(i.b)("pre",null,Object(i.b)("code",{parentName:"pre",className:"language-javascript"},'{\n  "arrangement": "parallel"// how to arrange multiple views \n  "views": [\n    {\n      // a single view can contain multiple tracks\n      "alignment": "stack", // alignment property specifies how several tracks are aligned\n      "tracks": [\n        {/** track 1 **/},\n        {/** track 2 **/},\n        ...\n      ]\n    },\n    {\n      /** view **/\n    }\n    ...\n  ]\n}\n')),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},Object(i.b)("a",{parentName:"li",href:"#align-multiple-tracks"},"Align Multiple Tracks")),Object(i.b)("li",{parentName:"ul"},Object(i.b)("a",{parentName:"li",href:"#arrange-multiple-views"},"Arrange Multiple Views")),Object(i.b)("li",{parentName:"ul"},Object(i.b)("a",{parentName:"li",href:"#inherit-property-in-nested-structure"},"Inherit Property in Nested Structure"))),Object(i.b)("h2",{id:"align-multiple-tracks"},"Align Multiple Tracks"),Object(i.b)("p",null,Object(i.b)("a",{parentName:"p",href:"https://github.com/gosling-lang/gosling.js/blob/43626eaf21417bf36128a405dceeaa6ee00d0851/src/core/Gosling.schema.ts#L213"},"\ud83d\udd17 source code")),Object(i.b)("p",null,"The ",Object(i.b)("inlineCode",{parentName:"p"},"alignment")," propoerty allow users to either ",Object(i.b)("inlineCode",{parentName:"p"},'"overlay"')," or ",Object(i.b)("inlineCode",{parentName:"p"},'"stack"')," several tracks."),Object(i.b)("p",null,"When setting ",Object(i.b)("inlineCode",{parentName:"p"},"alignment")," as ",Object(i.b)("inlineCode",{parentName:"p"},'"overlay"'),", multiple ",Object(i.b)("inlineCode",{parentName:"p"},"tracks")," are overlaid on top of others.\nWhen setting ",Object(i.b)("inlineCode",{parentName:"p"},"alignment")," as ",Object(i.b)("inlineCode",{parentName:"p"},'"stack"'),", multiple ",Object(i.b)("inlineCode",{parentName:"p"},"tracks")," are vertically concantenated.\nThe default value of ",Object(i.b)("inlineCode",{parentName:"p"},"alignment")," is ",Object(i.b)("inlineCode",{parentName:"p"},'"stack"'),"."),Object(i.b)("img",{src:"https://raw.githubusercontent.com/gosling-lang/gosling-docs/master/images/alignment.png",alt:"alignment of multiple tracks",width:"700"}),Object(i.b)("p",null,"Multiple ",Object(i.b)("inlineCode",{parentName:"p"},"tracks")," can compose one single ",Object(i.b)("inlineCode",{parentName:"p"},"view"),', which has the following properties:\n|property|type|description|\n|--|--|--|\n| layout | string | specify the layout type of all tracks, either "linear" or "circular" |\n| alignment | string | specify how to align tracks, either "stack" or "overlay". default="stack" |\n| spacing | number | specify the space between tracks in pixels (if ',Object(i.b)("inlineCode",{parentName:"p"},"layout")," is ",Object(i.b)("inlineCode",{parentName:"p"},"linear"),") or in percentage ranging from ",Object(i.b)("inlineCode",{parentName:"p"},"0")," to ",Object(i.b)("inlineCode",{parentName:"p"},"100")," (if ",Object(i.b)("inlineCode",{parentName:"p"},"layout")," is ",Object(i.b)("inlineCode",{parentName:"p"},"circular"),") |\n| static | boolean | whether to disable ",Object(i.b)("a",{parentName:"p",href:"https://github.com/gosling-lang/gosling-docs/blob/master/docs/user-interaction.md#zooming-and-panning"},"Zooming and Panning"),', default=false. |\n| assembly | string | currently support "hg38", "hg19", "hg18", "hg17", "hg16", "mm10", "mm9"|\n| linkingId | string | specify an ID for ',Object(i.b)("a",{parentName:"p",href:"https://github.com/gosling-lang/gosling-docs/blob/master/docs/user-interaction.md#linking-views"},"linking multiple views"),"|\n| centerRadius | number | specify the proportion of the radius of the center white space. A number between ","[0,1]",", default=0.3|\n| width | number | required when setting ",Object(i.b)("inlineCode",{parentName:"p"},"alignment: overlay"),"|\n| height | number | required when setting ",Object(i.b)("inlineCode",{parentName:"p"},"alignment: overlay"),"|"),Object(i.b)("h2",{id:"arrange-multiple-views"},"Arrange Multiple Views"),Object(i.b)("p",null,"Goslings supports multi-view visualizations. How multiple views are arranged is controlled by the ",Object(i.b)("inlineCode",{parentName:"p"},"arrangement")," property."),Object(i.b)("pre",null,Object(i.b)("code",{parentName:"pre",className:"language-javascript"},'{\n  "arrangement": "parallel",\n  "views": [\n    // one view is composed of tracks that share the same layout property (linear or circular)\n    {\n      "layout": "linear",\n      "tracks": [...]\n    },\n    // One view can have a hierarchical structure. \n    // For example, the view below is composed of two sub-views\n    {\n      "arrangement": "serial",\n      "views": [\n        {\n          "tracks": [...]\n        },\n        {\n          "tracks": [...]\n        }\n      ]\n    }\n  ]\n}\n')),Object(i.b)("p",null,"Gosling supports four types of arrangemet: ",Object(i.b)("inlineCode",{parentName:"p"},'"parallel"'),", ",Object(i.b)("inlineCode",{parentName:"p"},'"serial"'),", ",Object(i.b)("inlineCode",{parentName:"p"},'"vertical"'),", ",Object(i.b)("inlineCode",{parentName:"p"},'"horizontal"'),"."),Object(i.b)("img",{src:"https://raw.githubusercontent.com/gosling-lang/gosling-docs/master/images/multi_views.png",alt:"arrangement of multiple views",width:"700"}),Object(i.b)("h2",{id:"inherit-property-in-nested-structure"},"Inherit Property in Nested Structure"),Object(i.b)("p",null,"Both ",Object(i.b)("inlineCode",{parentName:"p"},"view")," and ",Object(i.b)("inlineCode",{parentName:"p"},"track")," supports nested structures: one ",Object(i.b)("inlineCode",{parentName:"p"},"view")," can have several children ",Object(i.b)("inlineCode",{parentName:"p"},"views")," and one ",Object(i.b)("inlineCode",{parentName:"p"},"track")," can have several children ",Object(i.b)("inlineCode",{parentName:"p"},"tracks"),". Properties can be inherited from upper-level specifications or overwritten locally."),Object(i.b)("pre",null,Object(i.b)("code",{parentName:"pre",className:"language-javascript"},'// nested structures in views\n{\n  "arrangement": "parallel",\n  "views": [\n    {/** view **/ }, \n    {/** view **/ }, \n    {\n      // a view with children views\n      "arrangement": "parallel",\n      "views": [...]\n    }\n  ]\n}\n')),Object(i.b)("pre",null,Object(i.b)("code",{parentName:"pre",className:"language-javascript"},'// nested structures in tracks\n{\n  "alignment":"overlay",\n  "tracks": [\n    {\n      // the parent track\n      "data": ... , // specify data\n      "x": ...,\n      "y": ...,\n      "color":...,\n      "alignment": "overlay",\n      "tracks": [\n        // the children tracks\n        // point mark and line mark have the same data, x, y, color encoding\n        {\n          "mark": "line", \n        },\n        {\n          "mark": "point", \n          // specify the size of point mark\n          "size": {"field": "peak", "type": "quantitative", "range": [0, 6]} \n        }\n      ]\n    }\n  ]\n}\n')),Object(i.b)("p",null,"It is recommended to use nested tracks ONLY IF a user wants to use overlaid tracks inside stacked tracks."),Object(i.b)("p",null,"Try examples in the online editor:"),Object(i.b)("p",null,Object(i.b)("a",{parentName:"p",href:"https://gosling-lang.github.io/gosling.js/?gist=wangqianwen0418/dd5bd5aa70f2eb68f92f42788f046188"},"Line chart (line + point)")),Object(i.b)("p",null,Object(i.b)("a",{parentName:"p",href:"https://gosling-lang.github.io/gosling.js/?gist=wangqianwen0418/d94c24b086bb4f6e5af48af6ebad1ca2"},"Lollipop plot (bar + point)")),Object(i.b)("p",null,Object(i.b)("a",{parentName:"p",href:"https://gosling-lang.github.io/gosling.js/?gist=wangqianwen0418/90cc96ca5f199c78d8985e4c162c6788"},"Ideogram (text + rect + triangle)")))}s.isMDXComponent=!0},95:function(e,n,t){"use strict";t.d(n,"a",(function(){return b})),t.d(n,"b",(function(){return g}));var a=t(0),r=t.n(a);function i(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function l(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function o(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?l(Object(t),!0).forEach((function(n){i(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):l(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function c(e,n){if(null==e)return{};var t,a,r=function(e,n){if(null==e)return{};var t,a,r={},i=Object.keys(e);for(a=0;a<i.length;a++)t=i[a],n.indexOf(t)>=0||(r[t]=e[t]);return r}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)t=i[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var p=r.a.createContext({}),s=function(e){var n=r.a.useContext(p),t=n;return e&&(t="function"==typeof e?e(n):o(o({},n),e)),t},b=function(e){var n=s(e.components);return r.a.createElement(p.Provider,{value:n},e.children)},u={inlineCode:"code",wrapper:function(e){var n=e.children;return r.a.createElement(r.a.Fragment,{},n)}},m=r.a.forwardRef((function(e,n){var t=e.components,a=e.mdxType,i=e.originalType,l=e.parentName,p=c(e,["components","mdxType","originalType","parentName"]),b=s(t),m=a,g=b["".concat(l,".").concat(m)]||b[m]||u[m]||i;return t?r.a.createElement(g,o(o({ref:n},p),{},{components:t})):r.a.createElement(g,o({ref:n},p))}));function g(e,n){var t=arguments,a=n&&n.mdxType;if("string"==typeof e||a){var i=t.length,l=new Array(i);l[0]=m;var o={};for(var c in n)hasOwnProperty.call(n,c)&&(o[c]=n[c]);o.originalType=e,o.mdxType="string"==typeof e?e:a,l[1]=o;for(var p=2;p<i;p++)l[p]=t[p];return r.a.createElement.apply(null,l)}return r.a.createElement.apply(null,t)}m.displayName="MDXCreateElement"}}]);